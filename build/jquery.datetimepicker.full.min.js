!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel","date-functions"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){"use strict";function t(e,t,n){this.date=e,this.desc=t,this.style=n}var n={i18n:{en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},a="en",o="en";e.datetimepicker={setLocale:function(e){o=n.i18n[e]?e:a,Date.monthNames=n.i18n[o].months,Date.dayNames=n.i18n[o].dayOfWeek}},window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(e,t,n){return n.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,a;for(n=t||0,a=this.length;a>n;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n,a,o,r,i,s=e(this),d=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(n.x=e.clientX,n.y=e.clientY),n},u=100,l=!1,c=0,f=0,h=0,m=!1,g=0,p=function(){};return"hide"===t?void s.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(n=s.children().eq(0),a=s[0].clientHeight,o=n[0].offsetHeight,r=e('<div class="xdsoft_scrollbar"></div>'),i=e('<div class="xdsoft_scroller"></div>'),r.append(i),s.addClass("xdsoft_scroller_box").append(r),p=function(e){var t=d(e).y-c+g;0>t&&(t=0),t+i[0].offsetHeight>h&&(t=h-i[0].offsetHeight),s.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},i.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){a||s.trigger("resize_scroll.xdsoft_scroller",[t]),c=d(n).y,g=parseInt(i.css("margin-top"),10),h=r[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("touchend mouseup.xdsoft_scroller",function o(){e([document.body,window]).off("touchend mouseup.xdsoft_scroller",o).off("mousemove.xdsoft_scroller",p).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",p)):(m=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){m&&(e.preventDefault(),p(e))}).on("touchend touchcancel",function(){m=!1,g=0}),s.on("scroll_element.xdsoft_scroller",function(e,t){a||s.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,i.css("margin-top",u*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-a)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,d){var l,c;a=s[0].clientHeight,o=n[0].offsetHeight,l=a/o,c=l*r[0].offsetHeight,l>1?i.hide():(i.show(),i.css("height",parseInt(c>10?c:10,10)),u=r[0].offsetHeight-i[0].offsetHeight,d!==!0&&s.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(o-a)]))}),s.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),s.trigger("scroll_element.xdsoft_scroller",[t/(o-a)]),e.stopPropagation(),!1}),s.on("touchstart",function(e){l=d(e),f=Math.abs(parseInt(n.css("marginTop"),10))}),s.on("touchmove",function(e){if(l){e.preventDefault();var t=d(e);s.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-l.y))/(o-a)])}}),s.on("touchend touchcancel",function(){l=!1,f=0})),void s.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(a){var r,i,s=48,d=57,u=96,l=105,c=17,f=46,h=13,m=27,g=8,p=37,x=38,D=39,v=40,y=9,T=116,w=65,_=67,b=86,M=90,k=89,S=!1,O=e.isPlainObject(a)||!a?e.extend(!0,{},n,a):e.extend(!0,{},n),F=0,Y=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(F),F=setTimeout(function(){e.data("xdsoft_datetimepicker")||r(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))})};return r=function(n){function r(){var e,t=!1;return O.startDate?t=I.strToDate(O.startDate):(t=O.value||(n&&n.val&&n.val()?n.val():""),t?t=I.strToDateTime(t):O.defaultDate&&(t=I.strToDateTime(O.defaultDate),O.defaultTime&&(e=I.strtotime(O.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes())))),t&&I.isValidDate(t)?P.data("changed",!0):t="",t||0}var i,F,Y,C,H,I,P=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),A=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),W=e('<div class="xdsoft_datepicker active"></div>'),z=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),N=e('<div class="xdsoft_calendar"></div>'),j=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),L=j.find(".xdsoft_time_box").eq(0),B=e('<div class="xdsoft_time_variant"></div>'),q=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),E=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),$=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),V=!1,J=0,R=0;O.id&&P.attr("id",O.id),O.style&&P.attr("style",O.style),O.weeks&&P.addClass("xdsoft_showweeks"),O.rtl&&P.addClass("xdsoft_rtl"),P.addClass("xdsoft_"+O.theme),P.addClass(O.className),z.find(".xdsoft_month span").after(E),z.find(".xdsoft_year span").after($),z.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var n,a,o=e(this).find(".xdsoft_select").eq(0),r=0,i=0,s=o.is(":visible");for(z.find(".xdsoft_select").hide(),I.currentTime&&(r=I.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),o[s?"hide":"show"](),n=o.find("div.xdsoft_option"),a=0;a<n.length&&n.eq(a).data("value")!==r;a+=1)i+=n[0].offsetHeight;return o.xdsoftScroller(i/(o.children()[0].offsetHeight-o[0].clientHeight)),t.stopPropagation(),!1}),z.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){(void 0===I.currentTime||null===I.currentTime)&&(I.currentTime=I.now());var t=I.currentTime.getFullYear();I&&I.currentTime&&I.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),P.trigger("xchange.xdsoft"),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(P,I.currentTime,P.data("input")),t!==I.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(P,I.currentTime,P.data("input"))}),P.setOptions=function(a){var o={},r=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},i=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},F=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};O=e.extend(!0,{},O,a),a.allowTimes&&e.isArray(a.allowTimes)&&a.allowTimes.length&&(O.allowTimes=e.extend(!0,[],a.allowTimes)),a.weekends&&e.isArray(a.weekends)&&a.weekends.length&&(O.weekends=e.extend(!0,[],a.weekends)),a.highlightedDates&&e.isArray(a.highlightedDates)&&a.highlightedDates.length&&(e.each(a.highlightedDates,function(n,a){var r,i=e.map(a.split(","),e.trim),s=new t(Date.parseDate(i[0],O.formatDate),i[1],i[2]),d=s.date.dateFormat(O.formatDate);void 0!==o[d]?(r=o[d].desc,r&&r.length&&s.desc&&s.desc.length&&(o[d].desc=r+"\n"+s.desc)):o[d]=s}),O.highlightedDates=e.extend(!0,[],o)),a.highlightedPeriods&&e.isArray(a.highlightedPeriods)&&a.highlightedPeriods.length&&(o=e.extend(!0,[],O.highlightedDates),e.each(a.highlightedPeriods,function(n,a){var r,i,s,d,u,l,c;if(e.isArray(a))r=a[0],i=a[1],s=a[2],c=a[3];else{var f=e.map(a.split(","),e.trim);r=Date.parseDate(f[0],O.formatDate),i=Date.parseDate(f[1],O.formatDate),s=f[2],c=f[3]}for(;i>=r;)d=new t(r,s,c),u=r.dateFormat(O.formatDate),r.setDate(r.getDate()+1),void 0!==o[u]?(l=o[u].desc,l&&l.length&&d.desc&&d.desc.length&&(o[u].desc=l+"\n"+d.desc)):o[u]=d}),O.highlightedDates=e.extend(!0,[],o)),a.disabledDates&&e.isArray(a.disabledDates)&&a.disabledDates.length&&(O.disabledDates=e.extend(!0,[],a.disabledDates)),a.disabledWeekDays&&e.isArray(a.disabledWeekDays)&&a.disabledWeekDays.length&&(O.disabledWeekDays=e.extend(!0,[],a.disabledWeekDays)),!O.open&&!O.opened||O.inline||n.trigger("open.xdsoft"),O.inline&&(V=!0,P.addClass("xdsoft_inline"),n.after(P).hide()),O.inverseButton&&(O.next="xdsoft_prev",O.prev="xdsoft_next"),O.datepicker?W.addClass("active"):W.removeClass("active"),O.timepicker?j.addClass("active"):j.removeClass("active"),O.value&&(I.setCurrentTime(O.value),n&&n.val&&n.val(I.str)),O.dayOfWeekStart=isNaN(O.dayOfWeekStart)?0:parseInt(O.dayOfWeekStart,10)%7,O.timepickerScrollbar||L.xdsoftScroller("hide"),O.minDate&&/^[\+\-](.*)$/.test(O.minDate)&&(O.minDate=I.strToDateTime(O.minDate).dateFormat(O.formatDate)),O.maxDate&&/^[\+\-](.*)$/.test(O.maxDate)&&(O.maxDate=I.strToDateTime(O.maxDate).dateFormat(O.formatDate)),q.toggle(O.showApplyButton),z.find(".xdsoft_today_button").css("visibility",O.todayButton?"visible":"hidden"),z.find("."+O.prev).css("visibility",O.prevButton?"visible":"hidden"),z.find("."+O.next).css("visibility",O.nextButton?"visible":"hidden"),O.mask&&(n.off("keydown.xdsoft"),O.mask===!0&&(O.mask=O.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(O.mask)&&(F(O.mask,n.val())||(n.val(O.mask.replace(/[0-9]/g,"_")),i(n[0],0)),n.on("keydown.xdsoft",function(t){var a,o,Y=this.value,C=t.which;if(C>=s&&d>=C||C>=u&&l>=C||C===g||C===f){for(a=r(this),o=C!==g&&C!==f?String.fromCharCode(C>=u&&l>=C?C-s:C):"_",C!==g&&C!==f||!a||(a-=1,o="_");/[^0-9_]/.test(O.mask.substr(a,1))&&a<O.mask.length&&a>0;)a+=C===g||C===f?-1:1;if(Y=Y.substr(0,a)+o+Y.substr(a+1),""===e.trim(Y))Y=O.mask.replace(/[0-9]/g,"_");else if(a===O.mask.length)return t.preventDefault(),!1;for(a+=C===g||C===f?0:1;/[^0-9_]/.test(O.mask.substr(a,1))&&a<O.mask.length&&a>0;)a+=C===g||C===f?-1:1;F(O.mask,Y)?(this.value=Y,i(this,a)):""===e.trim(Y)?this.value=O.mask.replace(/[0-9]/g,"_"):n.trigger("error_input.xdsoft")}else if(-1!==[w,_,b,M,k].indexOf(C)&&S||-1!==[m,x,v,p,D,T,c,y,h].indexOf(C))return!0;return t.preventDefault(),!1}))),O.validateOnBlur&&n.off("blur.xdsoft").on("blur.xdsoft",function(){if(O.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),P.data("xdsoft_datetime").empty();else if(Date.parseDate(e(this).val(),O.format))P.data("xdsoft_datetime").setCurrentTime(e(this).val());else{var t=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");e(this).val(!O.datepicker&&O.timepicker&&t>=0&&24>t&&n>=0&&60>n?[t,n].map(function(e){return e>9?e:"0"+e}).join(":"):I.now().dateFormat(O.format)),P.data("xdsoft_datetime").setCurrentTime(e(this).val())}P.trigger("changedatetime.xdsoft")}),O.dayOfWeekStartPrev=0===O.dayOfWeekStart?6:O.dayOfWeekStart-1,P.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},P.data("options",O).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),$.hide(),E.hide(),!1}),L.append(B),L.xdsoftScroller(),P.on("afterOpen.xdsoft",function(){L.xdsoftScroller()}),P.append(W).append(j),O.withoutCopyright!==!0&&P.append(A),W.append(z).append(N).append(q),e(O.parentID).append(P),i=function(){var t=this;t.now=function(e){var n,a,o=new Date;return!e&&O.defaultDate&&(n=t.strToDateTime(O.defaultDate),o.setFullYear(n.getFullYear()),o.setMonth(n.getMonth()),o.setDate(n.getDate())),O.yearOffset&&o.setFullYear(o.getFullYear()+O.yearOffset),!e&&O.defaultTime&&(a=t.strtotime(O.defaultTime),o.setHours(a.getHours()),o.setMinutes(a.getMinutes())),o},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),P.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n,a=t.currentTime.getMonth()+1;return 12===a&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),a=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),a+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(a),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(P,I.currentTime,P.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(P,I.currentTime,P.data("input")),P.trigger("xchange.xdsoft"),a},t.prevMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(P,I.currentTime,P.data("input")),P.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n,a,o=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(o=/^(\+|\-)(.*)$/.exec(e),o&&(o[2]=Date.parseDate(o[2],O.formatDate)),o&&o[2]?(n=o[2].getTime()-6e4*o[2].getTimezoneOffset(),a=new Date(t.now(!0).getTime()+parseInt(o[1]+"1",10)*n)):a=e?Date.parseDate(e,O.format):t.now(),t.isValidDate(a)||(a=t.now()),a)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,O.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,O.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return t.currentTime.dateFormat(O.format)},t.currentTime=this.now()},I=new i,q.on("touchend click",function(e){e.preventDefault(),P.data("changed",!0),I.setCurrentTime(r()),n.val(I.str()),P.trigger("close.xdsoft")}),z.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){P.data("changed",!0),I.setCurrentTime(0),P.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,a=I.getCurrentTime();a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=I.strToDate(O.minDate),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e>a||(t=I.strToDate(O.maxDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a>t||(n.val(I.str()),n.trigger("change"),P.trigger("close.xdsoft")))}),z.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,a=!1;!function o(e){t.hasClass(O.next)?I.nextMonth():t.hasClass(O.prev)&&I.prevMonth(),O.monthChangeSpinner&&(a||(n=setTimeout(o,e||100)))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function r(){clearTimeout(n),a=!0,e([document.body,window]).off("touchend mouseup.xdsoft",r)})}),j.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,a=!1,o=110;!function r(e){var i=L[0].clientHeight,s=B[0].offsetHeight,d=Math.abs(parseInt(B.css("marginTop"),10));t.hasClass(O.next)&&s-i-O.timeHeightInTimePicker>=d?B.css("marginTop","-"+(d+O.timeHeightInTimePicker)+"px"):t.hasClass(O.prev)&&d-O.timeHeightInTimePicker>=0&&B.css("marginTop","-"+(d-O.timeHeightInTimePicker)+"px"),L.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(B.css("marginTop"),10)/(s-i))]),o=o>10?10:o-10,a||(n=setTimeout(r,e||o))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function i(){clearTimeout(n),a=!0,e([document.body,window]).off("touchend mouseup.xdsoft",i)})}),F=0,P.on("xchange.xdsoft",function(t){clearTimeout(F),F=setTimeout(function(){(void 0===I.currentTime||null===I.currentTime)&&(I.currentTime=I.now());for(var t,n,r,i,s,d,u,l,c,f,h="",m=new Date(I.currentTime.getFullYear(),I.currentTime.getMonth(),1,12,0,0),g=0,p=I.now(),x=!1,D=!1,v=[],y=!0,T="",w="";m.getDay()!==O.dayOfWeekStart;)m.setDate(m.getDate()-1);for(h+="<table><thead><tr>",O.weeks&&(h+="<th></th>"),t=0;7>t;t+=1)h+="<th>"+O.i18n[o].dayOfWeekShort[(t+O.dayOfWeekStart)%7]+"</th>";for(h+="</tr></thead>",h+="<tbody>",O.maxDate!==!1&&(x=I.strToDate(O.maxDate),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59,999)),O.minDate!==!1&&(D=I.strToDate(O.minDate),D=new Date(D.getFullYear(),D.getMonth(),D.getDate()));g<I.currentTime.countDaysInMonth()||m.getDay()!==O.dayOfWeekStart||I.currentTime.getMonth()===m.getMonth();)v=[],g+=1,r=m.getDay(),i=m.getDate(),s=m.getFullYear(),d=m.getMonth(),u=I.getWeekOfYear(m),f="",v.push("xdsoft_date"),l=O.beforeShowDay&&e.isFunction(O.beforeShowDay.call)?O.beforeShowDay.call(P,m):null,x!==!1&&m>x||D!==!1&&D>m||l&&l[0]===!1?v.push("xdsoft_disabled"):-1!==O.disabledDates.indexOf(m.dateFormat(O.formatDate))?v.push("xdsoft_disabled"):-1!==O.disabledWeekDays.indexOf(r)&&v.push("xdsoft_disabled"),l&&""!==l[1]&&v.push(l[1]),I.currentTime.getMonth()!==d&&v.push("xdsoft_other_month"),(O.defaultSelect||P.data("changed"))&&I.currentTime.dateFormat(O.formatDate)===m.dateFormat(O.formatDate)&&v.push("xdsoft_current"),p.dateFormat(O.formatDate)===m.dateFormat(O.formatDate)&&v.push("xdsoft_today"),(0===m.getDay()||6===m.getDay()||-1!==O.weekends.indexOf(m.dateFormat(O.formatDate)))&&v.push("xdsoft_weekend"),void 0!==O.highlightedDates[m.dateFormat(O.formatDate)]&&(n=O.highlightedDates[m.dateFormat(O.formatDate)],v.push(void 0===n.style?"xdsoft_highlighted_default":n.style),f=void 0===n.desc?"":n.desc),O.beforeShowDay&&e.isFunction(O.beforeShowDay)&&v.push(O.beforeShowDay(m)),y&&(h+="<tr>",y=!1,O.weeks&&(h+="<th>"+u+"</th>")),h+='<td data-date="'+i+'" data-month="'+d+'" data-year="'+s+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+v.join(" ")+'" title="'+f+'"><div>'+i+"</div></td>",m.getDay()===O.dayOfWeekStartPrev&&(h+="</tr>",y=!0),m.setDate(i+1);if(h+="</tbody></table>",N.html(h),z.find(".xdsoft_label span").eq(0).text(O.i18n[o].months[I.currentTime.getMonth()]),z.find(".xdsoft_label span").eq(1).text(I.currentTime.getFullYear()),T="",w="",d="",c=function(t,n){var a,o,r=I.now(),i=O.allowTimes&&e.isArray(O.allowTimes)&&O.allowTimes.length;r.setHours(t),t=parseInt(r.getHours(),10),r.setMinutes(n),n=parseInt(r.getMinutes(),10),a=new Date(I.currentTime),a.setHours(t),a.setMinutes(n),v=[],(O.minDateTime!==!1&&O.minDateTime>a||O.maxTime!==!1&&I.strtotime(O.maxTime).getTime()<r.getTime()||O.minTime!==!1&&I.strtotime(O.minTime).getTime()>r.getTime())&&v.push("xdsoft_disabled"),(O.minDateTime!==!1&&O.minDateTime>a||O.disabledMinTime!==!1&&r.getTime()>I.strtotime(O.disabledMinTime).getTime()&&O.disabledMaxTime!==!1&&r.getTime()<I.strtotime(O.disabledMaxTime).getTime())&&v.push("xdsoft_disabled"),o=new Date(I.currentTime),o.setHours(parseInt(I.currentTime.getHours(),10)),i||o.setMinutes(Math[O.roundTime](I.currentTime.getMinutes()/O.step)*O.step),(O.initTime||O.defaultSelect||P.data("changed"))&&o.getHours()===parseInt(t,10)&&(!i&&O.step>59||o.getMinutes()===parseInt(n,10))&&(O.defaultSelect||P.data("changed")?v.push("xdsoft_current"):O.initTime&&v.push("xdsoft_init_time")),parseInt(p.getHours(),10)===parseInt(t,10)&&parseInt(p.getMinutes(),10)===parseInt(n,10)&&v.push("xdsoft_today"),T+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+t+'" data-minute="'+n+'">'+r.dateFormat(O.formatTime)+"</div>"},O.allowTimes&&e.isArray(O.allowTimes)&&O.allowTimes.length)for(g=0;g<O.allowTimes.length;g+=1)w=I.strtotime(O.allowTimes[g]).getHours(),d=I.strtotime(O.allowTimes[g]).getMinutes(),c(w,d);else for(g=0,t=0;g<(O.hours12?12:24);g+=1)for(t=0;60>t;t+=O.step)w=(10>g?"0":"")+g,d=(10>t?"0":"")+t,c(w,d);for(B.html(T),a="",g=0,g=parseInt(O.yearStart,10)+O.yearOffset;g<=parseInt(O.yearEnd,10)+O.yearOffset;g+=1)a+='<div class="xdsoft_option '+(I.currentTime.getFullYear()===g?"xdsoft_current":"")+'" data-value="'+g+'">'+g+"</div>";for($.children().eq(0).html(a),g=parseInt(O.monthStart,10),a="";g<=parseInt(O.monthEnd,10);g+=1)a+='<div class="xdsoft_option '+(I.currentTime.getMonth()===g?"xdsoft_current":"")+'" data-value="'+g+'">'+O.i18n[o].months[g]+"</div>";E.children().eq(0).html(a),e(P).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(O.timepicker){var e,t,n,a;B.find(".xdsoft_current").length?e=".xdsoft_current":B.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=L[0].clientHeight,n=B[0].offsetHeight,a=B.find(e).index()*O.timeHeightInTimePicker+1,a>n-t&&(a=n-t),L.trigger("scroll_element.xdsoft_scroller",[parseInt(a,10)/(n-t)])):L.trigger("scroll_element.xdsoft_scroller",[0])}}),Y=0,N.on("touchend click.xdsoft","td",function(t){t.stopPropagation(),Y+=1;var a=e(this),o=I.currentTime;return(void 0===o||null===o)&&(I.currentTime=I.now(),o=I.currentTime),a.hasClass("xdsoft_disabled")?!1:(o.setDate(1),o.setFullYear(a.data("year")),o.setMonth(a.data("month")),o.setDate(a.data("date")),P.trigger("select.xdsoft",[o]),n.val(I.str()),O.onSelectDate&&e.isFunction(O.onSelectDate)&&O.onSelectDate.call(P,I.currentTime,P.data("input"),t),P.data("changed",!0),P.trigger("xchange.xdsoft"),P.trigger("changedatetime.xdsoft"),(Y>1||O.closeOnDateSelect===!0||O.closeOnDateSelect===!1&&!O.timepicker)&&!O.inline&&P.trigger("close.xdsoft"),void setTimeout(function(){Y=0},200))}),B.on("touchend click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),a=I.currentTime;return(void 0===a||null===a)&&(I.currentTime=I.now(),a=I.currentTime),n.hasClass("xdsoft_disabled")?!1:(a.setHours(n.data("hour")),a.setMinutes(n.data("minute")),P.trigger("select.xdsoft",[a]),P.data("input").val(I.str()),O.onSelectTime&&e.isFunction(O.onSelectTime)&&O.onSelectTime.call(P,I.currentTime,P.data("input"),t),P.data("changed",!0),P.trigger("xchange.xdsoft"),P.trigger("changedatetime.xdsoft"),void(O.inline!==!0&&O.closeOnTimeSelect===!0&&P.trigger("close.xdsoft")))}),W.on("mousewheel.xdsoft",function(e){return O.scrollMonth?(e.deltaY<0?I.nextMonth():I.prevMonth(),!1):!0}),n.on("mousewheel.xdsoft",function(e){return O.scrollInput?!O.datepicker&&O.timepicker?(C=B.find(".xdsoft_current").length?B.find(".xdsoft_current").eq(0).index():0,C+e.deltaY>=0&&C+e.deltaY<B.children().length&&(C+=e.deltaY),B.children().eq(C).length&&B.children().eq(C).trigger("mousedown"),!1):O.datepicker&&!O.timepicker?(W.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),n.val&&n.val(I.str()),P.trigger("changedatetime.xdsoft"),!1):void 0:!0}),P.on("changedatetime.xdsoft",function(t){if(O.onChangeDateTime&&e.isFunction(O.onChangeDateTime)){var n=P.data("input");O.onChangeDateTime.call(P,I.currentTime,n,t),delete O.value,n.trigger("change")}}).on("generate.xdsoft",function(){O.onGenerate&&e.isFunction(O.onGenerate)&&O.onGenerate.call(P,I.currentTime,P.data("input")),V&&(P.trigger("afterOpen.xdsoft"),V=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),C=0,H=function(){var t,n=P.data("input").offset(),a=n.top+P.data("input")[0].offsetHeight-1,o=n.left,r="absolute";"rtl"==P.data("input").parent().css("direction")&&(o-=P.outerWidth()-P.data("input").outerWidth()),O.fixed?(a-=e(window).scrollTop(),o-=e(window).scrollLeft(),r="fixed"):(a+P[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(a=n.top-P[0].offsetHeight+1),0>a&&(a=0),o+P[0].offsetWidth>e(window).width()&&(o=e(window).width()-P[0].offsetWidth)),t=P[0];do if(t=t.parentNode,"relative"===window.getComputedStyle(t).getPropertyValue("position")&&e(window).width()>=t.offsetWidth){o-=(e(window).width()-t.offsetWidth)/2;break}while("HTML"!==t.nodeName);P.css({left:o,top:a,position:r})},P.on("open.xdsoft",function(t){var n=!0;O.onShow&&e.isFunction(O.onShow)&&(n=O.onShow.call(P,I.currentTime,P.data("input"),t)),n!==!1&&(P.show(),H(),e(window).off("resize.xdsoft",H).on("resize.xdsoft",H),O.closeOnWithoutClick&&e([document.body,window]).on("touchstart mousedown.xdsoft",function a(){P.trigger("close.xdsoft"),e([document.body,window]).off("touchstart mousedown.xdsoft",a)}))}).on("close.xdsoft",function(t){var n=!0;z.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),O.onClose&&e.isFunction(O.onClose)&&(n=O.onClose.call(P,I.currentTime,P.data("input"),t)),n===!1||O.opened||O.inline||P.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){P.trigger(P.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",n),J=0,R=0,P.data("xdsoft_datetime",I),P.setOptions(O),I.setCurrentTime(r()),n.data("xdsoft_datetimepicker",P).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){n.is(":disabled")||n.data("xdsoft_datetimepicker").is(":visible")&&O.closeOnInputClick||(clearTimeout(J),J=setTimeout(function(){n.is(":disabled")||(V=!0,I.setCurrentTime(r()),P.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,a=(this.value,t.which);return-1!==[h].indexOf(a)&&O.enterLikeTab?(n=e("input:visible,textarea:visible,button:visible,a:visible"),P.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[y].indexOf(a)?(P.trigger("close.xdsoft"),!0):void 0})},i=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===c&&(S=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===c&&(S=!1)}),this.each(function(){var t,n=e(this).data("xdsoft_datetimepicker");if(n){if("string"===e.type(a))switch(a){case"show":e(this).select().focus(),n.trigger("open.xdsoft");break;case"hide":n.trigger("close.xdsoft");break;case"toggle":n.trigger("toggle.xdsoft");break;case"destroy":i(e(this));break;case"reset":this.value=this.defaultValue,this.value&&n.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,O.format))||n.data("changed",!1),n.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t=n.data("input"),t.trigger("blur.xdsoft")}else n.setOptions(a);return 0}"string"!==e.type(a)&&(!O.lazyInit||O.open||O.inline?r(e(this)):Y(e(this)))})},e.fn.datetimepicker.defaults=n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,s=d.call(arguments,1),u=0,c=0,f=0,h=0,m=0,g=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(f=-1*i.detail),"wheelDelta"in i&&(f=i.wheelDelta),"wheelDeltaY"in i&&(f=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*f,f=0),u=0===f?c:f,"deltaY"in i&&(f=-1*i.deltaY,u=f),"deltaX"in i&&(c=i.deltaX,0===f&&(u=-1*c)),0!==f||0!==c){if(1===i.deltaMode){var p=e.data(this,"mousewheel-line-height");u*=p,f*=p,c*=p}else if(2===i.deltaMode){var x=e.data(this,"mousewheel-page-height");u*=x,f*=x,c*=x}if(h=Math.max(Math.abs(f),Math.abs(c)),(!r||r>h)&&(r=h,a(i,h)&&(r/=40)),a(i,h)&&(u/=40,c/=40,f/=40),u=Math[u>=1?"floor":"ceil"](u/r),c=Math[c>=1?"floor":"ceil"](c/r),f=Math[f>=1?"floor":"ceil"](f/r),l.settings.normalizeOffset&&this.getBoundingClientRect){var D=this.getBoundingClientRect();m=t.clientX-D.left,g=t.clientY-D.top}return t.deltaX=c,t.deltaY=f,t.deltaFactor=r,t.offsetX=m,t.offsetY=g,t.deltaMode=0,s.unshift(t,u,c,f),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function a(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(e.event.fixHooks)for(var u=i.length;u;)e.event.fixHooks[i[--u]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),a=n["offsetParent"in e.fn?"offsetParent":"parent"]();return a.length||(a=e("body")),parseInt(a.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e:e()}(function(){"use strict";function e(e){for(var n=[],a=!1,o="",i=0;i<e.length;++i)o=e.charAt(i),a||"\\"!==o?a?(a=!1,n.push(r(o))):n.push(l[o]||r(o)):a=!0;u[e]=t(n)}function t(e){return function(t){for(var n=[],a=0,o=e.length;o>a;a++)n.push("string"==typeof e[a]?e[a]:e[a](t));return n.join("")}}function n(e,t,n){return function(e){var a=new Date,o=e.match(d[t]);if(o&&o.length>0){o.y=a.getFullYear(),o.m=a.getMonth(),
o.d=a.getDate(),o.h=-1,o.i=-1,o.s=-1;for(var r=0,i=n.length;i>r;r++)n[r](o);if(o.y>0&&o.m>=0&&o.d>0&&o.h>=0&&o.i>=0&&o.s>=0)return new Date(o.y,o.m,o.d,o.h,o.i,o.s);if(o.y>0&&o.m>=0&&o.d>0&&o.h>=0&&o.i>=0)return new Date(o.y,o.m,o.d,o.h,o.i);if(o.y>0&&o.m>=0&&o.d>0&&o.h>=0)return new Date(o.y,o.m,o.d,o.h);if(o.y>0&&o.m>=0&&o.d>0)return new Date(o.y,o.m,o.d);if(o.y>0&&o.m>=0)return new Date(o.y,o.m);if(o.y>0)return new Date(o.y)}return null}}function a(e){for(var t,a=d.length,i=1,u="",l=!1,c="",f=[],h=0;h<e.length;++h)c=e.charAt(h),l||"\\"!==c?l?(l=!1,u+=r(c)):(t=o(c,i),i+=t.g,u+=t.s,t.g&&t.a&&f.push(t.a)):l=!0;d[a]=new RegExp("^"+u+"$"),s[e]=n(e,a,f)}function o(e,t){switch(e){case"D":return{g:0,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,a:function(e){e.d=parseInt(e[t],10)},s:"(\\d{1,2})"};case"l":return{g:0,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,s:"(?:st|nd|rd|th)"};case"w":return{g:0,s:"\\d"};case"z":return{g:0,s:"(?:\\d{1,3})"};case"W":return{g:0,s:"(?:\\d{2})"};case"F":return{g:1,a:function(e){e.m=parseInt(Date.monthNumbers[e[t].substring(0,3)],10)},s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,a:function(e){e.m=parseInt(Date.monthNumbers[e[t]],10)},s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,a:function(e){e.m=parseInt(e[t],10)-1},s:"(\\d{1,2})"};case"t":return{g:0,s:"\\d{1,2}"};case"L":return{g:0,s:"(?:1|0)"};case"Y":return{g:1,a:function(e){e.y=parseInt(e[t],10)},s:"(\\d{4})"};case"y":return{g:1,a:function(e){var n=parseInt(e[t],10);e.y=n>Date.y2kYear?1900+n:2e3+n},s:"(\\d{1,2})"};case"a":return{g:1,a:function(e){"am"===e[t]?12==e.h&&(e.h=0):e.h<12&&(e.h+=12)},s:"(am|pm)"};case"A":return{g:1,a:function(e){"AM"===e[t]?12==e.h&&(e.h=0):e.h<12&&(e.h+=12)},s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,a:function(e){e.h=parseInt(e[t],10)},s:"(\\d{1,2})"};case"i":return{g:1,a:function(e){e.i=parseInt(e[t],10)},s:"(\\d{2})"};case"s":return{g:1,a:function(e){e.s=parseInt(e[t],10)},s:"(\\d{2})"};case"O":return{g:0,s:"[+-]\\d{4}"};case"T":return{g:0,s:"[A-Z]{3}"};case"Z":return{g:0,s:"[+-]\\d{1,5}"};default:return{g:0,s:r(e)}}}function r(e){return e.replace(/('|\\)/g,"\\$1")}function i(e,t,n){var a=""+e;for(n=""+n||" ";a.length<t;)a=n+a;return a}var s={},d=[],u={},l={d:function(e){return i(e.getDate(),2,"0")},D:function(e){return Date.dayNames[e.getDay()].substring(0,3)},j:function(e){return e.getDate()},l:function(e){return Date.dayNames[e.getDay()]},S:function(e){return e.getSuffix()},w:function(e){return e.getDay()},z:function(e){return e.getDayOfYear()},W:function(e){return e.getWeekOfYear()},F:function(e){return Date.monthNames[e.getMonth()]},m:function(e){return i(e.getMonth()+1,2,"0")},M:function(e){return Date.monthNames[e.getMonth()].substring(0,3)},n:function(e){return e.getMonth()+1},t:function(e){return e.getDaysInMonth()},L:function(e){return e.isLeapYear()?1:0},Y:function(e){return e.getFullYear()},y:function(e){return(""+e.getFullYear()).substring(2,4)},a:function(e){return e.getHours()<12?"am":"pm"},A:function(e){return e.getHours()<12?"AM":"PM"},g:function(e){return e.getHours()%12?e.getHours()%12:12},G:function(e){return e.getHours()},h:function(e){return i(e.getHours()%12?e.getHours()%12:12,2,"0")},H:function(e){return i(e.getHours(),2,"0")},i:function(e){return i(e.getMinutes(),2,"0")},s:function(e){return i(e.getSeconds(),2,"0")},O:function(e){return e.getGMTOffset()},T:function(e){return e.getTimezone()},Z:function(e){return-60*e.getTimezoneOffset()}};Date.prototype.dateFormat=function(t){return u[t]||e(t),u[t](this)},Date.parseDate=function(e,t){return s[t]||a(t),s[t](e)},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+i(Math.floor(this.getTimezoneOffset()/60),2,"0")+i(this.getTimezoneOffset()%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return i((e-n)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return!(0!==(3&e)||!(e%100||e%400===0&&e))},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}});